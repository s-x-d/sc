files:
  "/etc/nginx/conf.d/elasticbeanstalk/01_media.conf":
    mode: "000644"
    owner: root
    group: root
    content: |
      # Explicitly define the media location with correct alias syntax
      location /media/ {
        alias /var/app/current/media/;
        # Enable debugging for this location
        autoindex on;
        access_log /var/log/nginx/media_access.log;
        error_log /var/log/nginx/media_error.log debug;
        
        # Try to fix potential directory issues
        try_files $uri $uri/ =404;
      }